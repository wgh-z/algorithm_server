<!doctype html>
<html>
  <head>
    <title>Video Stream</title>
  </head>
  <body>
    <h1>Live Video Stream</h1>
    <img src="{{ url_for('video_feed') }}" alt="Video Stream">
  </body>
  <!-- <script src="https://cdn.bootcss.com/jquery/3.3.1/jquery.min.js"></script> -->
  <script>
    
    // 键盘监听事件
    document.onkeydown = function(e) {
      e = e || window.event;
      var key = e.which || e.keyCode;
      if (key === 37) {
        // 左
        console.log('left');
        // jQuery.ajax({
        //   url: '/left',
        //   type: 'GET',
        //   success: function(result) {
        //     console.log(result);
        //   }
        // });
        //发起http请求
        var xhr = new XMLHttpRequest();
        xhr.open('GET', '/keyleft', true);
        xhr.send();
      } else if (key === 38) {
        // 上
        console.log('up');
      } else if (key === 39) {
        // 右
        // console.log('right');
        var xhr = new XMLHttpRequest();
        xhr.open('GET', '/keyright', true);
        xhr.send();
      } else if (key === 40) {
        // 下
        console.log('down');
      }
    }
  </script>
</html>